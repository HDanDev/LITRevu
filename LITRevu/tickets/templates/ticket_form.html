{% extends 'single_page_template.html' %}
{% load static %}

{% block title %}New Ticket{% endblock %}
{% block optional_css %}
<link rel="stylesheet" href="{% static 'css/tickets_styles.css' %}">
{% endblock %}
{% block content_title %}
Create Ticket
{% endblock %}

{% block content %}
  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    {{ form.non_field_errors }}
    <div>
      <label for="{{ form.title.id_for_label }}">Title:</label>
      {{ form.title }}
      {% if form.title.errors %}
        <div class="error">{{ form.title.errors }}</div>
      {% endif %}
    </div>
    <div>
      <label for="{{ form.description.id_for_label }}">Description:</label>
      {{ form.description }}
      {% if form.description.errors %}
        <div class="error">{{ form.description.errors }}</div>
      {% endif %}
    </div>
    <div>
      <label for="{{ form.image.id_for_label }}">Image:</label>
      {{ form.image }}
      {% if form.image.errors %}
        <div class="error">{{ form.image.errors }}</div>
      {% endif %}
    </div>
    <div>
      <label for="id_create_review">Create an review:</label>
      {{ form.create_review }}
    </div>
    <div id="review_fields" style="display:none;">
      <div>
        <label for="{{ form.review_title.id_for_label }}">Review Title:</label>
        {{ form.review_title }}
        {% if form.review_title.errors %}
          <div class="error">{{ form.review_title.errors }}</div>
        {% endif %}
      </div>
      <div>
        <label for="{{ form.review_content.id_for_label }}">Review Content:</label>
        {{ form.review_content }}
        {% if form.review_content.errors %}
          <div class="error">{{ form.review_content.errors }}</div>
        {% endif %}
      </div>
      <div>
        <label for="{{ form.review_cover_image.id_for_label }}">Cover Image:</label>
        {{ form.review_cover_image }}
        {% if form.review_cover_image.errors %}
          <div class="error">{{ form.review_cover_image.errors }}</div>
        {% endif %}
      </div>
      <div>
        <label for="{{ form.review_tags.id_for_label }}">Tags:</label>
        {{ form.review_tags }}
        {% if form.review_tags.errors %}
          <div class="error">{{ form.review_tags.errors }}</div>
        {% endif %}
      </div>
    </div>
    <button type="submit" class="icon-hover-box feedback validation-btn"><i class="icon-checkmark"></i></button>
  </form>
{% endblock %}

{% block js %}
  <script src="{% static 'js/ticket_script.js' %}"></script>
{% endblock %}
