{% extends 'base_template.html' %}
{% load static %}

{% block title %}New Ticket{% endblock %}
{% block optional_css %}
<link rel="stylesheet" href="{% static 'css/articles_styles.css' %}">
{% endblock %}

{% block content %}
  <h2>Create Ticket</h2>
  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    {{ form.non_field_errors }}
    <div>
      <label for="{{ form.title.id_for_label }}">Title:</label>
      {{ form.title }}
      {% if form.title.errors %}
        <div class="error">{{ form.title.errors }}</div>
      {% endif %}
    </div>
    <div>
      <label for="{{ form.description.id_for_label }}">Description:</label>
      {{ form.description }}
      {% if form.description.errors %}
        <div class="error">{{ form.description.errors }}</div>
      {% endif %}
    </div>
    <div>
      <label for="{{ form.image.id_for_label }}">Image:</label>
      {{ form.image }}
      {% if form.image.errors %}
        <div class="error">{{ form.image.errors }}</div>
      {% endif %}
    </div>
    <div>
      <label for="id_create_article">Create an article:</label>
      {{ form.create_article }}
    </div>
    <div id="article_fields" style="display:none;">
      <div>
        <label for="{{ form.article_title.id_for_label }}">Article Title:</label>
        {{ form.article_title }}
        {% if form.article_title.errors %}
          <div class="error">{{ form.article_title.errors }}</div>
        {% endif %}
      </div>
      <div>
        <label for="{{ form.article_content.id_for_label }}">Article Content:</label>
        {{ form.article_content }}
        {% if form.article_content.errors %}
          <div class="error">{{ form.article_content.errors }}</div>
        {% endif %}
      </div>
      <div>
        <label for="{{ form.article_cover_image.id_for_label }}">Cover Image:</label>
        {{ form.article_cover_image }}
        {% if form.article_cover_image.errors %}
          <div class="error">{{ form.article_cover_image.errors }}</div>
        {% endif %}
      </div>
      <div>
        <label for="{{ form.article_tags.id_for_label }}">Tags:</label>
        {{ form.article_tags }}
        {% if form.article_tags.errors %}
          <div class="error">{{ form.article_tags.errors }}</div>
        {% endif %}
      </div>
    </div>
    <button type="submit">Submit</button>
  </form>
{% endblock %}

{% block js %}
  <script src="{% static 'js/ticket_script.js' %}"></script>
{% endblock %}
